{% extends "spareapp/fillbase.html" %}

{% block title %} Category {% endblock %}

{% block content %}

{% include "spareapp/fillsup.html" %}

<div class="container mt-5 col-lg-4">

    <form method="POST">
        {% csrf_token %}
        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <input type="text" class="form-control" name="category" id="category" aria-describedby="categoryHelp" required>
        </div>

        <a id="addAtribute" class="btn btn-secondary" href="javascript:void(0);">Add atributes</a>
        
        <button name="otro" value="otro" type="submit" class="btn btn-secondary">Save and add another</button>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>

<script>

$("#addAtribute").on("click",function(){

    $(".mb-3").after('<label id="atributesTittle" for="atributes" class="form-label">Atributes</label>')
    $("label:last").after('<div id="atributes" class="mb-3"><div style="display: flex;"><input name="attr" type="text" class="form-control"><a id="addAttr" style="text-decoration: none;color: rgb(136,12,12);" class="p-2" href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/></svg></a></div></div>')
    $("#addAtribute").remove()
})

$(document).on("click","#atributes a",function(){
    if($(this).attr("id")=="deleteAttr"){
        $(this).parent().remove()
    }else{
        $("#atributes").append('<div style="display: flex;"><input name="attr" type="text" class="form-control"><a id="deleteAttr" style="text-decoration: none;color: rgb(136,12,12);" class="p-2" href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z"/></svg></a></div>')
    }
})

</script>

{% endblock %}